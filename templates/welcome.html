<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FastAPI Mail Application</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        .animate-slide-in {
            animation: slideIn 0.4s ease-out;
        }
        .delay-100 { animation-delay: 0.1s; }
        .delay-200 { animation-delay: 0.2s; }
        .delay-300 { animation-delay: 0.3s; }
        .delay-400 { animation-delay: 0.4s; }
    </style>
</head>
<body class="min-h-screen bg-gray-50 flex items-center justify-center p-4 sm:p-6">
    <div class="max-w-4xl w-full space-y-4 sm:space-y-6">
        
        <!-- é¡¶éƒ¨çŠ¶æ€æ  -->
        <div class="bg-white rounded-xl sm:rounded-2xl p-4 sm:p-6 border border-gray-200 animate-slide-in">
            <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4">
                <div class="flex items-center gap-3 sm:gap-4">
                    <div class="w-12 h-12 sm:w-14 sm:h-14 bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl flex items-center justify-center flex-shrink-0 shadow-lg shadow-blue-500/30">
                        <i data-lucide="zap" class="w-6 h-6 sm:w-7 sm:h-7 text-white" stroke-width="2.5"></i>
                    </div>
                    <div>
                        <h1 class="text-xl sm:text-2xl font-bold text-gray-900">FastAPI Mail Service</h1>
                        <p class="text-xs sm:text-sm text-gray-500">é‚®ä»¶æœåŠ¡åç«¯ API</p>
                    </div>
                </div>
                <div class="flex items-center gap-2 px-3 sm:px-4 py-2 bg-green-50 rounded-full border border-green-200 w-fit">
                    <div class="w-2 h-2 bg-green-500 rounded-full animate-pulse"></div>
                    <span class="text-xs sm:text-sm font-medium text-green-700">è¿è¡Œä¸­</span>
                </div>
            </div>
        </div>

        <!-- æœåŠ¡ä¿¡æ¯ç½‘æ ¼ -->
        <div class="grid grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4">
            <div class="bg-white rounded-xl p-4 sm:p-5 border border-gray-200 animate-slide-in delay-100 hover:shadow-md transition-shadow">
                <div class="flex items-center gap-2 text-gray-500 text-xs sm:text-sm mb-2">
                    <i data-lucide="package" class="w-3.5 h-3.5 sm:w-4 sm:h-4"></i>
                    <span>ç‰ˆæœ¬</span>
                </div>
                <div class="text-xl sm:text-2xl font-bold text-gray-900">{{VERSION}}</div>
            </div>
            <div class="bg-white rounded-xl p-4 sm:p-5 border border-gray-200 animate-slide-in delay-200 hover:shadow-md transition-shadow">
                <div class="flex items-center gap-2 text-gray-500 text-xs sm:text-sm mb-2">
                    <i data-lucide="globe" class="w-3.5 h-3.5 sm:w-4 sm:h-4"></i>
                    <span>ç¯å¢ƒ</span>
                </div>
                <div class="text-xl sm:text-2xl font-bold text-gray-900">{{ENVIRONMENT}}</div>
            </div>
            <div class="bg-white rounded-xl p-4 sm:p-5 border border-gray-200 animate-slide-in delay-300 hover:shadow-md transition-shadow">
                <div class="flex items-center gap-2 text-gray-500 text-xs sm:text-sm mb-2">
                    <i data-lucide="server" class="w-3.5 h-3.5 sm:w-4 sm:h-4"></i>
                    <span>ç«¯å£</span>
                </div>
                <div class="text-xl sm:text-2xl font-bold text-gray-900">{{PORT}}</div>
            </div>
            <div class="bg-white rounded-xl p-4 sm:p-5 border border-gray-200 animate-slide-in delay-400 hover:shadow-md transition-shadow">
                <div class="flex items-center gap-2 text-gray-500 text-xs sm:text-sm mb-2">
                    <i data-lucide="clock" class="w-3.5 h-3.5 sm:w-4 sm:h-4"></i>
                    <span>è¿è¡Œæ—¶é—´</span>
                </div>
                <div class="text-xl sm:text-2xl font-bold text-gray-900" id="uptime">0s</div>
            </div>
        </div>

        <!-- API å¿«é€Ÿè®¿é—® -->
        <div class="bg-white rounded-xl sm:rounded-2xl p-4 sm:p-6 border border-gray-200 animate-slide-in delay-400">
            <div class="flex items-center gap-2 mb-4">
                <i data-lucide="layout-grid" class="w-5 h-5 text-gray-700"></i>
                <h2 class="text-base sm:text-lg font-semibold text-gray-900">å¿«é€Ÿè®¿é—®</h2>
            </div>
            <div class="grid sm:grid-cols-2 lg:grid-cols-3 gap-3">
                <a href="/docs" class="flex flex-col sm:flex-row items-start sm:items-center gap-3 p-4 bg-gray-50 hover:bg-blue-50 rounded-xl border border-gray-200 hover:border-blue-300 transition-all group">
                    <div class="w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center group-hover:bg-blue-200 transition-colors flex-shrink-0">
                        <i data-lucide="book-open" class="w-5 h-5 text-blue-600"></i>
                    </div>
                    <div class="flex-1 min-w-0">
                        <div class="font-medium text-gray-900 text-sm sm:text-base">Swagger UI</div>
                        <div class="text-xs sm:text-sm text-gray-500 truncate">äº¤äº’å¼ API æ–‡æ¡£</div>
                    </div>
                    <i data-lucide="chevron-right" class="w-4 h-4 text-gray-400 group-hover:text-blue-500 transition-colors hidden sm:block flex-shrink-0"></i>
                </a>
                
                <a href="/redoc" class="flex flex-col sm:flex-row items-start sm:items-center gap-3 p-4 bg-gray-50 hover:bg-purple-50 rounded-xl border border-gray-200 hover:border-purple-300 transition-all group">
                    <div class="w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center group-hover:bg-purple-200 transition-colors flex-shrink-0">
                        <i data-lucide="file-text" class="w-5 h-5 text-purple-600"></i>
                    </div>
                    <div class="flex-1 min-w-0">
                        <div class="font-medium text-gray-900 text-sm sm:text-base">ReDoc</div>
                        <div class="text-xs sm:text-sm text-gray-500 truncate">è¯¦ç»† API å‚è€ƒ</div>
                    </div>
                    <i data-lucide="chevron-right" class="w-4 h-4 text-gray-400 group-hover:text-purple-500 transition-colors hidden sm:block flex-shrink-0"></i>
                </a>
                
                <a href="/api/gmail/status" class="flex flex-col sm:flex-row items-start sm:items-center gap-3 p-4 bg-gray-50 hover:bg-green-50 rounded-xl border border-gray-200 hover:border-green-300 transition-all group sm:col-span-2 lg:col-span-1">
                    <div class="w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center group-hover:bg-green-200 transition-colors flex-shrink-0">
                        <i data-lucide="mail" class="w-5 h-5 text-green-600"></i>
                    </div>
                    <div class="flex-1 min-w-0">
                        <div class="font-medium text-gray-900 text-sm sm:text-base">Gmail æœåŠ¡</div>
                        <div class="text-xs sm:text-sm text-gray-500 truncate">æŸ¥çœ‹æœåŠ¡çŠ¶æ€</div>
                    </div>
                    <i data-lucide="chevron-right" class="w-4 h-4 text-gray-400 group-hover:text-green-500 transition-colors hidden sm:block flex-shrink-0"></i>
                </a>
            </div>
        </div>

        <!-- é¡µè„š -->
        <div class="text-center text-xs sm:text-sm text-gray-400 animate-slide-in delay-400 pb-2">
            <p class="flex items-center justify-center gap-2 flex-wrap">
                <span>Powered by</span>
                <span class="inline-flex items-center gap-1">
                    <i data-lucide="zap" class="w-3 h-3"></i>
                    FastAPI
                </span>
                <span>â€¢</span>
                <span class="inline-flex items-center gap-1">
                    <i data-lucide="code-2" class="w-3 h-3"></i>
                    Python
                </span>
                <span>â€¢</span>
                <span class="inline-flex items-center gap-1">
                    <i data-lucide="rocket" class="w-3 h-3"></i>
                    Uvicorn
                </span>
            </p>
        </div>
    </div>

    <script>
        // åˆå§‹åŒ– Lucide å›¾æ ‡
        lucide.createIcons();
    </script>
    <script>
        // è¿è¡Œæ—¶é—´æ›´æ–°
        const startTime = new Date();
        function updateUptime() {
            const now = new Date();
            const diff = Math.floor((now - startTime) / 1000);
            const hours = Math.floor(diff / 3600);
            const minutes = Math.floor((diff % 3600) / 60);
            const seconds = diff % 60;
            
            let uptimeText = '';
            if (hours > 0) {
                uptimeText = `${hours}h ${minutes}m`;
            } else if (minutes > 0) {
                uptimeText = `${minutes}m ${seconds}s`;
            } else {
                uptimeText = `${seconds}s`;
            }
            
            document.getElementById('uptime').textContent = uptimeText;
        }
        setInterval(updateUptime, 1000);
        updateUptime();

        // ğŸ¨ æ§åˆ¶å°å½©è›‹
        console.clear();
        
        // ASCII Art Logo
        console.log('%c' +
            '  ______        _     _    ____ ___  \n' +
            ' |  ____|      | |   / \\  |  _ \\_ _| \n' +
            ' | |__ __ _ ___| |_ / _ \\ | |_) | |  \n' +
            ' |  __/ _` / __| __/ ___ \\|  __/| |  \n' +
            ' | | | (_| \\__ \\ || |_| || |  |___| \n' +
            ' |_|  \\__,_|___/\\__\\___(_)_|  |_____|\n',
            'color: #3b82f6; font-weight: bold; font-family: monospace;'
        );
        
        console.log('%cğŸš€ FastAPI Mail Application', 
            'font-size: 20px; font-weight: bold; color: #3b82f6;'
        );
        
        console.log('%cæœåŠ¡çŠ¶æ€: %câœ“ è¿è¡Œä¸­', 
            'font-weight: bold; color: #6b7280;',
            'font-weight: bold; color: #10b981;'
        );
        
        console.log('%cç‰ˆæœ¬: %c{{VERSION}}', 
            'font-weight: bold; color: #6b7280;',
            'color: #3b82f6;'
        );
        
        console.log('%cç¯å¢ƒ: %c{{ENVIRONMENT}}', 
            'font-weight: bold; color: #6b7280;',
            'color: #8b5cf6;'
        );
        
        console.log('%cç«¯å£: %c{{PORT}}', 
            'font-weight: bold; color: #6b7280;',
            'color: #f59e0b;'
        );
        
        console.log('\n%câ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”', 
            'color: #e5e7eb;'
        );
        
        // å¯ç”¨ç«¯ç‚¹
        console.log('\n%cğŸ“Œ å¯ç”¨ç«¯ç‚¹:', 
            'font-size: 16px; font-weight: bold; color: #6366f1;'
        );
        
        const endpoints = [
            { name: 'Swagger UI', url: '/docs', emoji: 'ğŸ“š', color: '#3b82f6' },
            { name: 'ReDoc', url: '/redoc', emoji: 'ğŸ“–', color: '#8b5cf6' },
            { name: 'Gmail çŠ¶æ€', url: '/api/gmail/status', emoji: 'ğŸ“§', color: '#10b981' },
            { name: 'OpenAPI Schema', url: '/openapi.json', emoji: 'ğŸ“„', color: '#f59e0b' }
        ];
        
        endpoints.forEach(endpoint => {
            console.log(
                `%c${endpoint.emoji} %c${endpoint.name}%c â†’ %c${window.location.origin}${endpoint.url}`,
                'font-size: 14px;',
                'font-weight: bold; color: ' + endpoint.color + ';',
                'color: #6b7280;',
                'color: #9ca3af; font-style: italic;'
            );
        });
        
        console.log('\n%câ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”', 
            'color: #e5e7eb;'
        );
        
        // å½©è›‹æç¤º
        console.log('\n%cğŸ’¡ æç¤º:', 
            'font-size: 14px; font-weight: bold; color: #f59e0b;'
        );
        
        console.log('%cè¾“å…¥ %capi.info()%c æŸ¥çœ‹æ›´å¤š API ä¿¡æ¯', 
            'color: #6b7280;',
            'background: #f3f4f6; color: #3b82f6; padding: 2px 6px; border-radius: 3px; font-family: monospace;',
            'color: #6b7280;'
        );
        
        console.log('%cè¾“å…¥ %capi.test()%c æµ‹è¯• API è¿æ¥', 
            'color: #6b7280;',
            'background: #f3f4f6; color: #10b981; padding: 2px 6px; border-radius: 3px; font-family: monospace;',
            'color: #6b7280;'
        );
        
        console.log('\n%câ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\n', 
            'color: #e5e7eb;'
        );
        
        // åˆ›å»ºäº¤äº’å¼ API å¯¹è±¡
        window.api = {
            info: function() {
                console.clear();
                console.log('%cğŸ“¦ API è¯¦ç»†ä¿¡æ¯', 
                    'font-size: 18px; font-weight: bold; color: #3b82f6;'
                );
                console.table({
                    'æœåŠ¡åç§°': 'FastAPI Mail Application',
                    'ç‰ˆæœ¬': '{{VERSION}}',
                    'ç¯å¢ƒ': '{{ENVIRONMENT}}',
                    'ç«¯å£': '{{PORT}}',
                    'æ–‡æ¡£': window.location.origin + '/docs',
                    'æŠ€æœ¯æ ˆ': 'FastAPI + Python + Uvicorn'
                });
                console.log('%câœ¨ æ›´å¤šä¿¡æ¯è¯·è®¿é—® /docs', 
                    'color: #10b981; font-weight: bold;'
                );
            },
            
            test: async function() {
                console.log('%câ³ æ­£åœ¨æµ‹è¯• API è¿æ¥...', 
                    'color: #f59e0b;'
                );
                try {
                    const response = await fetch('/docs');
                    if (response.ok) {
                        console.log('%câœ“ API è¿æ¥æˆåŠŸï¼', 
                            'font-size: 16px; font-weight: bold; color: #10b981;'
                        );
                        console.log('%cçŠ¶æ€ç : %c' + response.status, 
                            'font-weight: bold; color: #6b7280;',
                            'color: #10b981;'
                        );
                    } else {
                        console.log('%câœ— API è¿æ¥å¤±è´¥', 
                            'font-size: 16px; font-weight: bold; color: #ef4444;'
                        );
                    }
                } catch (error) {
                    console.log('%câœ— ç½‘ç»œé”™è¯¯: ' + error.message, 
                        'color: #ef4444;'
                    );
                }
            },
            
            endpoints: function() {
                console.clear();
                console.log('%cğŸ›£ï¸ å¯ç”¨ç«¯ç‚¹åˆ—è¡¨', 
                    'font-size: 18px; font-weight: bold; color: #8b5cf6;'
                );
                console.table(endpoints.map(e => ({
                    'åç§°': e.name,
                    'è·¯å¾„': e.url,
                    'å®Œæ•´URL': window.location.origin + e.url
                })));
            }
        };
        
        // æ¬¢è¿æ¶ˆæ¯
        console.log('%cğŸ‘‹ æ¬¢è¿ä½¿ç”¨ FastAPI Mail Applicationï¼', 
            'font-size: 14px; color: #6b7280;'
        );
        
        console.log('%cå¼€å§‹ä½ çš„ API ä¹‹æ—…å§ï¼ğŸš€\n\n', 
            'font-size: 14px; font-weight: bold; color: #3b82f6;'
        );
    </script>
</body>
</html>

